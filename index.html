<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Portfolio Builder - Investment Planning Made Easy</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="logo">üí∞ Smart Portfolio Builder</h1>
                    <p class="tagline">Your Personal Investment Advisor</p>
                </div>
                <button class="theme-toggle" id="themeToggle">üåô</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tabs Navigation -->
            <nav class="tabs-nav">
                <button class="tab-btn active" data-tab="portfolio">
                    <span class="icon">üíº</span>
                    <span>Portfolio</span>
                </button>
                <button class="tab-btn" data-tab="sip">
                    <span class="icon">üéØ</span>
                    <span>SIP</span>
                </button>
                <button class="tab-btn" data-tab="comparison">
                    <span class="icon">‚öñÔ∏è</span>
                    <span>Compare</span>
                </button>
            </nav>

            <!-- Portfolio Calculator Tab -->
            <div class="tab-content active" id="portfolio">
                <div class="tab-grid">
                    <!-- Input Panel -->
                    <div class="input-panel">
                        <h2>Portfolio Calculator</h2>
                        
                        <form id="portfolioForm" class="form">
                            <div class="form-section">
                                <h3>Financial Details</h3>
                                
                                <div class="form-group">
                                    <label for="income">Monthly Income (‚Çπ)</label>
                                    <input type="number" id="income" name="income" value="50000" min="1000" step="1000">
                                    <span class="slider-value" id="incomeValue">50,000</span>
                                </div>

                                <div class="form-group">
                                    <label for="expenses">Monthly Expenses (‚Çπ)</label>
                                    <input type="number" id="expenses" name="expenses" value="30000" min="0" step="1000">
                                    <span class="slider-value" id="expensesValue">30,000</span>
                                </div>

                                <div class="savings-indicator">
                                    <span>Monthly Savings:</span>
                                    <strong id="monthlySavings">‚Çπ 20,000</strong>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3>Investment Details</h3>
                                
                                <div class="form-group">
                                    <label for="initialInvestment">Initial Investment (‚Çπ)</label>
                                    <input type="number" id="initialInvestment" name="initialInvestment" value="100000" min="0" step="10000">
                                    <span class="slider-value" id="initialValue">1,00,000</span>
                                </div>

                                <div class="form-group">
                                    <label for="monthlyContribution">Monthly Contribution (‚Çπ)</label>
                                    <input type="number" id="monthlyContribution" name="monthlyContribution" value="5000" min="0" step="1000">
                                    <span class="slider-value" id="contributionValue">5,000</span>
                                </div>

                                <div class="form-group">
                                    <label for="horizon">Investment Horizon (Years)</label>
                                    <input type="range" id="horizon" name="horizon" value="10" min="1" max="50" step="1">
                                    <span class="range-value" id="horizonValue">10 years</span>
                                </div>

                                <div class="form-group">
                                    <label for="riskScore">Risk Score (0 = Conservative, 20 = Aggressive)</label>
                                    <input type="range" id="riskScore" name="riskScore" value="10" min="0" max="20" step="1">
                                    <div class="risk-label" id="riskLabel">‚öñÔ∏è Balanced</div>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary">
                                <span>üìä Calculate Portfolio</span>
                            </button>
                        </form>
                    </div>

                    <!-- Results Panel -->
                    <div class="results-panel">
                        <div id="portfolioResults" class="results" style="display: none;">
                            <!-- Profile Card -->
                            <div class="profile-card" id="profileCard">
                                <div class="profile-header">
                                    <div class="profile-icon" id="profileIcon">üõ°Ô∏è</div>
                                    <div class="profile-info">
                                        <h3 id="profileTitle">Capital Protector</h3>
                                        <p id="profileName">Conservative</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Metrics Grid -->
                            <div class="metrics-grid">
                                <div class="metric-card">
                                    <span class="metric-label">Monthly Savings</span>
                                    <span class="metric-value" id="metric1">‚Çπ 20,000</span>
                                </div>
                                <div class="metric-card">
                                    <span class="metric-label">Annual Savings</span>
                                    <span class="metric-value" id="metric2">‚Çπ 2,40,000</span>
                                </div>
                                <div class="metric-card">
                                    <span class="metric-label">Emergency Fund</span>
                                    <span class="metric-value" id="metric3">‚Çπ 1,80,000</span>
                                </div>
                                <div class="metric-card">
                                    <span class="metric-label">Total Investable</span>
                                    <span class="metric-value" id="metric4">‚Çπ 1,20,000</span>
                                </div>
                            </div>

                            <!-- Allocation Chart -->
                            <div class="chart-container">
                                <h4>Portfolio Allocation</h4>
                                <div style="position: relative; width: 100%; height: 300px;">
                                    <canvas id="allocationChart"></canvas>
                                </div>
                            </div>

                            <!-- Scenarios -->
                            <div class="scenarios-section">
                                <h4>3 Scenarios - Projected Values</h4>
                                <div class="scenarios-grid">
                                    <div class="scenario-card worst">
                                        <div class="scenario-label">Worst Case</div>
                                        <div class="scenario-value" id="worstValue">‚Çπ 0</div>
                                        <div class="scenario-gain" id="worstGain">‚Çπ 0 gain</div>
                                    </div>
                                    <div class="scenario-card expected">
                                        <div class="scenario-label">Expected</div>
                                        <div class="scenario-value" id="expectedValue">‚Çπ 0</div>
                                        <div class="scenario-gain" id="expectedGain">‚Çπ 0 gain</div>
                                    </div>
                                    <div class="scenario-card best">
                                        <div class="scenario-label">Best Case</div>
                                        <div class="scenario-value" id="bestValue">‚Çπ 0</div>
                                        <div class="scenario-gain" id="bestGain">‚Çπ 0 gain</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Projection Chart -->
                            <div class="chart-container">
                                <h4>Wealth Projection Over Time</h4>
                                <div style="position: relative; width: 100%; height: 300px;">
                                    <canvas id="projectionChart"></canvas>
                                </div>
                            </div>

                            <!-- Insights -->
                            <div class="insights-section">
                                <h4>Key Insights</h4>
                                <div class="insights-grid" id="insightsGrid"></div>
                            </div>
                        </div>

                        <div id="portfolioEmpty" class="empty-state">
                            <div class="empty-icon">üìä</div>
                            <p>Fill the form and click "Calculate Portfolio" to see your investment analysis</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SIP Calculator Tab -->
            <div class="tab-content" id="sip">
                <div class="tab-grid">
                    <div class="input-panel">
                        <h2>SIP Calculator</h2>
                        <p class="description">Calculate your Systematic Investment Plan returns</p>

                        <form id="sipForm" class="form">
                            <div class="form-section">
                                <div class="form-group">
                                    <label for="sipAmount">Monthly SIP Amount (‚Çπ)</label>
                                    <input type="number" id="sipAmount" name="sipAmount" value="5000" min="100" step="100">
                                    <span class="slider-value" id="sipAmountValue">5,000</span>
                                </div>

                                <div class="form-group">
                                    <label for="sipReturn">Expected Annual Return (%)</label>
                                    <input type="range" id="sipReturn" name="sipReturn" value="10" min="0" max="50" step="0.5">
                                    <span class="range-value" id="sipReturnValue">10%</span>
                                </div>

                                <div class="form-group">
                                    <label for="sipYears">Investment Period (Years)</label>
                                    <input type="range" id="sipYears" name="sipYears" value="10" min="1" max="50" step="1">
                                    <span class="range-value" id="sipYearsValue">10 years</span>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary">
                                <span>üßÆ Calculate SIP</span>
                            </button>
                        </form>
                    </div>

                    <div class="results-panel">
                        <div id="sipResults" class="results" style="display: none;">
                            <div class="metrics-grid">
                                <div class="metric-card">
                                    <span class="metric-label">Total Invested</span>
                                    <span class="metric-value" id="sipInvested">‚Çπ 0</span>
                                </div>
                                <div class="metric-card highlight">
                                    <span class="metric-label">Final Value</span>
                                    <span class="metric-value" id="sipFinal">‚Çπ 0</span>
                                </div>
                                <div class="metric-card">
                                    <span class="metric-label">Total Gain</span>
                                    <span class="metric-value" id="sipGain">‚Çπ 0</span>
                                </div>
                                <div class="metric-card">
                                    <span class="metric-label">Gain %</span>
                                    <span class="metric-value" id="sipGainPct">0%</span>
                                </div>
                            </div>

                            <div class="chart-container">
                                <h4>SIP Growth Over Time</h4>
                                <div style="position: relative; width: 100%; height: 300px;">
                                    <canvas id="sipChart"></canvas>
                                </div>
                            </div>

                            <div class="highlight-box">
                                <h4>Power of Compounding</h4>
                                <p>Your investments grow exponentially through the magic of compounding. The longer you invest, the greater the returns!</p>
                                <div class="compounding-value" id="compoundingValue">‚Çπ 0</div>
                            </div>
                        </div>

                        <div id="sipEmpty" class="empty-state">
                            <div class="empty-icon">üéØ</div>
                            <p>Enter your SIP details and click "Calculate SIP"</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comparison Tab -->
            <div class="tab-content" id="comparison">
                <div class="tab-grid">
                    <div class="input-panel">
                        <h2>Lump Sum vs SIP</h2>
                        <p class="description">Compare investment strategies</p>

                        <form id="comparisonForm" class="form">
                            <div class="form-section">
                                <div class="form-group">
                                    <label for="compAmount">Total Amount (‚Çπ)</label>
                                    <input type="number" id="compAmount" name="compAmount" value="100000" min="1000" step="10000">
                                    <span class="slider-value" id="compAmountValue">1,00,000</span>
                                </div>

                                <div class="form-group">
                                    <label for="compReturn">Expected Annual Return (%)</label>
                                    <input type="range" id="compReturn" name="compReturn" value="10" min="0" max="50" step="0.5">
                                    <span class="range-value" id="compReturnValue">10%</span>
                                </div>

                                <div class="form-group">
                                    <label for="compYears">Investment Period (Years)</label>
                                    <input type="range" id="compYears" name="compYears" value="10" min="1" max="50" step="1">
                                    <span class="range-value" id="compYearsValue">10 years</span>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary">
                                <span>‚öñÔ∏è Compare</span>
                            </button>
                        </form>
                    </div>

                    <div class="results-panel">
                        <div id="comparisonResults" class="results" style="display: none;">
                            <div class="comparison-cards">
                                <div class="comparison-card lump-sum">
                                    <h4>üí∞ Lump Sum</h4>
                                    <div class="comp-metric">
                                        <span>Invested</span>
                                        <strong id="lumpInvested">‚Çπ 0</strong>
                                    </div>
                                    <div class="comp-metric">
                                        <span>Final Value</span>
                                        <strong id="lumpFinal">‚Çπ 0</strong>
                                    </div>
                                    <div class="comp-metric">
                                        <span>Gain</span>
                                        <strong id="lumpGain">‚Çπ 0</strong>
                                    </div>
                                </div>

                                <div class="comparison-card sip-invest">
                                    <h4>üìÖ SIP</h4>
                                    <div class="comp-metric">
                                        <span>Invested</span>
                                        <strong id="sipInvested2">‚Çπ 0</strong>
                                    </div>
                                    <div class="comp-metric">
                                        <span>Final Value</span>
                                        <strong id="sipFinal2">‚Çπ 0</strong>
                                    </div>
                                    <div class="comp-metric">
                                        <span>Gain</span>
                                        <strong id="sipGain2">‚Çπ 0</strong>
                                    </div>
                                </div>
                            </div>

                            <div class="advantage-box" id="advantageBox">
                                <h4 id="advantageTitle">SIP Wins!</h4>
                                <p id="advantageAmount">SIP is better by ‚Çπ 0</p>
                                <p class="advantage-reason" id="advantageReason">SIP helps reduce timing risk and benefits from rupee cost averaging</p>
                            </div>

                            <div class="chart-container">
                                <h4>Final Value Comparison</h4>
                                <div style="position: relative; width: 100%; height: 300px;">
                                    <canvas id="comparisonChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div id="comparisonEmpty" class="empty-state">
                            <div class="empty-icon">‚öñÔ∏è</div>
                            <p>Enter your comparison details and click "Compare"</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Smart Portfolio Builder ¬© 2026 | Developed by Raghav Dhanotiya</p>
            <p style="font-size: 0.85em; margin-top: 5px; opacity: 0.8;">
                üìß raghav74dhanotiya@gmail.com | üì± +91 9109657983
            </p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
